
<div class="row">
  <div class="col-md-6">
    <%= render CardComponent.new(id: dom_id(item), title: item.name) do %>
      <p><strong>Location:</strong> <%= item.location.name %></p>
      <p><strong>Group:</strong> <%= item.group.name %></p>
      <% if item.has_parent? %>
        <p><strong>Parent Item:</strong> <%= link_to item.parent.name, item_path(item.parent) %></p>
      <% end %>
      <% if item.has_children? %>
        <p>
          <strong>Children Item(s):</strong>
          <ul>
            <% item.children.each do |child_item| %>
              <%= link_to item.name, item_path(child_item) %>
            <% end %>
          </ul>
        </p>
      <% end %>
      <div class="mt-3">
        <strong>Description:</strong>
        <% if item.description.present? %>
          <%= item.description %>
        <% else %>
          <span class="text-muted text-italic">None</span>
        <% end %>
      </div>
    <% end %>
  </div>

  <div class="col-md-6">
    <%= render CardComponent.new(id: dom_id(item, :history), title: "History") do %>
      <div class="d-flexjustify-content-between">
        <%# render BadgeComponent.new( label: "Past Due", count: item.checkouts.past_due.count, button_variant: BsVariant::Danger) %>
      </div>

      <h5 id="past-due-items" class="pt-4">Past Due Items</h5>
      <%# render ListComponent.new(items: item.checkouts.past_due, fallback: "No Items Past Due") do |checkout| %>
        <%# render CheckoutComponent.new(checkout:) %>
      <%# end %>

      <h5 id="checked-out-items" class="pt-4">Checked Out Items</h5>
      <%# render ListComponent.new(items: item.checkouts.checked_out, fallback: "No Items Checked Out") do |checkout| %>
        <%# render CheckoutComponent.new(checkout:) %>
      <%# end %>

      <h5 id="check-out-available-items" class="pt-4">Available Items to Check Out</h5>
      <%# render ListComponent.new(items: resolved_policy_scope(Item).not_checked_out, fallback: "No Items Available") do |item| %>
        <%# render ItemComponent.new(item:) %>
      <%# end %>
    <% end %>
  </div>
</div>
